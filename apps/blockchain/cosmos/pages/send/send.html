<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <title>Cosmos Wallet - Ï†ÑÏÜ°</title>
        <link rel="stylesheet" href="../../app.css" />
        <link rel="stylesheet" href="send.css" />
    </head>
    <body>
        <div class="container safe-area-inset">
            <!-- Ìó§Îçî -->
            <div class="header">
                <button class="back-btn" onclick="goBack()">
                    ‚Üê
                </button>
                <div class="header-title">ÌÜ†ÌÅ∞ Ï†ÑÏÜ°</div>
            </div>

            <!-- ÏûîÏï° Ï†ïÎ≥¥ -->
            <div class="balance-info">
                <div class="balance-label">
                    ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÏûîÏï°
                </div>
                <div
                    class="balance-amount"
                    id="availableBalance"
                >
                    0.000000 ATOM
                </div>
            </div>

            <!-- Ï†ÑÏÜ° Ìèº -->
            <div id="sendForm" class="send-form">
                <!-- Î∞õÎäî Ï£ºÏÜå -->
                <div class="input-group">
                    <label class="input-label"
                        >Î∞õÎäî Ï£ºÏÜå</label
                    >
                    <div class="address-input-container">
                        <input
                            type="text"
                            id="recipientAddress"
                            class="input-field"
                            placeholder="cosmos1..."
                            oninput="validateAddress()"
                        />
                        <button
                            class="qr-btn"
                            onclick="openQRScanner()"
                            type="button"
                        >
                            üì∑
                        </button>
                    </div>
                    <div
                        id="addressValidation"
                        class="validation-message"
                    ></div>
                </div>

                <!-- Ï†ÑÏÜ° Í∏àÏï° -->
                <div class="input-group">
                    <label class="input-label"
                        >Ï†ÑÏÜ° Í∏àÏï° (ATOM)</label
                    >
                    <div class="amount-input-container">
                        <input
                            type="number"
                            id="sendAmount"
                            class="input-field"
                            placeholder="0.001"
                            step="0.001"
                            min="0"
                            oninput="calculateFee()"
                        />
                        <button
                            class="max-btn"
                            onclick="setMaxAmount()"
                            type="button"
                        >
                            ÏµúÎåÄ
                        </button>
                    </div>
                    <div class="fee-info">
                        <span
                            >ÏàòÏàòÎ£å:
                            <span id="feeAmount"
                                >0.000000</span
                            >
                            ATOM</span
                        >
                        <span
                            >Ï¥ùÏï°:
                            <span id="totalAmount"
                                >0.000000</span
                            >
                            ATOM</span
                        >
                    </div>
                </div>

                <!-- ÏàòÏàòÎ£å ÏÑ†ÌÉù -->
                <div class="input-group">
                    <label class="input-label"
                        >ÏàòÏàòÎ£å ÏÑ§Ï†ï</label
                    >
                    <div class="fee-options">
                        <label class="fee-option">
                            <input
                                type="radio"
                                name="feeOption"
                                value="low"
                                checked
                                onchange="updateFee()"
                            />
                            <span class="fee-label"
                                >ÏµúÏÜå (Îπ†Î¶Ñ)</span
                            >
                            <span
                                class="fee-amount"
                                id="lowFee"
                                >0.000000</span
                            >
                        </label>
                        <label class="fee-option">
                            <input
                                type="radio"
                                name="feeOption"
                                value="average"
                                onchange="updateFee()"
                            />
                            <span class="fee-label"
                                >ÌèâÍ∑† (Í∂åÏû•)</span
                            >
                            <span
                                class="fee-amount"
                                id="averageFee"
                                >0.000000</span
                            >
                        </label>
                        <label class="fee-option">
                            <input
                                type="radio"
                                name="feeOption"
                                value="high"
                                onchange="updateFee()"
                            />
                            <span class="fee-label"
                                >ÏµúÎåÄ (Îπ†Î¶Ñ)</span
                            >
                            <span
                                class="fee-amount"
                                id="highFee"
                                >0.000000</span
                            >
                        </label>
                    </div>
                </div>

                <!-- Î©îÎ™® -->
                <div class="input-group">
                    <label class="input-label"
                        >Î©îÎ™® (ÏÑ†ÌÉùÏÇ¨Ìï≠)</label
                    >
                    <textarea
                        id="sendMemo"
                        class="input-field"
                        placeholder="Ï†ÑÏÜ° Î™©Ï†ÅÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
                        rows="3"
                    ></textarea>
                </div>

                <!-- Ï†ÑÏÜ° Î≤ÑÌäº -->
                <button
                    class="btn btn-primary send-btn"
                    onclick="sendTokens()"
                    disabled
                >
                    Ï†ÑÏÜ°ÌïòÍ∏∞
                </button>
            </div>

            <!-- Ï†ÑÏÜ° ÌôïÏù∏ ÌôîÎ©¥ -->
            <div
                id="confirmScreen"
                class="confirm-screen"
                style="display: none"
            >
                <div class="confirm-header">
                    <button
                        class="back-btn"
                        onclick="backToSendForm()"
                    >
                        ‚Üê
                    </button>
                    <h2>Ï†ÑÏÜ° ÌôïÏù∏</h2>
                </div>

                <div class="confirm-content">
                    <div class="confirm-details">
                        <div class="confirm-item">
                            <span class="confirm-label"
                                >Î∞õÎäî Ï£ºÏÜå:</span
                            >
                            <span
                                class="confirm-value"
                                id="confirmAddress"
                            ></span>
                        </div>
                        <div class="confirm-item">
                            <span class="confirm-label"
                                >Ï†ÑÏÜ° Í∏àÏï°:</span
                            >
                            <span
                                class="confirm-value"
                                id="confirmAmount"
                            ></span>
                        </div>
                        <div class="confirm-item">
                            <span class="confirm-label"
                                >ÏàòÏàòÎ£å:</span
                            >
                            <span
                                class="confirm-value"
                                id="confirmFee"
                            ></span>
                        </div>
                        <div class="confirm-item">
                            <span class="confirm-label"
                                >Ï¥ùÏï°:</span
                            >
                            <span
                                class="confirm-value"
                                id="confirmTotal"
                            ></span>
                        </div>
                        <div
                            class="confirm-item"
                            id="confirmMemoItem"
                            style="display: none"
                        >
                            <span class="confirm-label"
                                >Î©îÎ™®:</span
                            >
                            <span
                                class="confirm-value"
                                id="confirmMemo"
                            ></span>
                        </div>
                    </div>

                    <div class="confirm-actions">
                        <button
                            class="btn btn-secondary"
                            onclick="backToSendForm()"
                        >
                            Ï∑®ÏÜå
                        </button>
                        <button
                            class="btn btn-primary"
                            onclick="confirmSend()"
                        >
                            Ï†ÑÏÜ° ÌôïÏù∏
                        </button>
                    </div>
                </div>
            </div>

            <!-- QR Ïä§Ï∫î Î™®Îã¨ -->
            <div id="qrScannerModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>QR ÏΩîÎìú Ïä§Ï∫î</h2>
                        <button
                            class="close-btn"
                            onclick="closeQRScanner()"
                        >
                            &times;
                        </button>
                    </div>

                    <div class="modal-body">
                        <div class="qr-scanner-container">
                            <video
                                id="qrVideo"
                                autoplay
                                playsinline
                            ></video>
                            <div class="qr-overlay">
                                <div class="qr-frame"></div>
                            </div>
                        </div>

                        <div class="qr-instructions">
                            <p>
                                QR ÏΩîÎìúÎ•º ÌîÑÎ†àÏûÑ ÏïàÏóê
                                ÎßûÏ∂∞Ï£ºÏÑ∏Ïöî
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cosmos SDK Î≤àÎì§Îü¨ Î°úÎìú -->
        <script src="../../assets/libs/cosmos-bundle.iife.js"></script>
        <script src="../../app.js"></script>
        <script src="send.js"></script>

        <!-- Ï†ÑÏó≠ ÏÑ§Ï†ï Î°úÎçî -->
        <script src="../../assets/libs/config-loader.js"></script>
    </body>
</html>
